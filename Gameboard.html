<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.js"></script>
    <script src="p5.play.js"></script>
</head>
<body>
    <script>
        const tileSheet = {
            image: null,

            columns: 13,
            tileHeight: 16,
            tileWidth: 16
        }

        const world = {
            map: [],
            columns: 25,
            height: 200,
            width: 200,
        }

        var SCENE_W = 1200;
        var SCENE_H = 600;
        var maxX = 4000;
        var maxY = 3000;

        const countSquaresHorizontally = maxX / tileSheet.tileWidth;
        const countSquaresVertically = maxY / tileSheet.tileHeight;

        function preload() {
            tileSheet.image = loadImage('desert.png');

        }

        function setup() {
            createCanvas(400, 400);
            player = createSprite(200, 200, 25, 50);
        }

        function createWorld() {
            const count = countSquaresHorizontally * countSquaresVertically;
            for (let i = 0; i < count; i++) {
                let x = i % countSquaresHorizontally;
                let y = Math.floor(i / countSquaresHorizontally);
         
                const myNoise = noise(x / 5, y / 5)
        }

        function draw() {
            background(0);


            for (let index = world.map.length - 1; index > -1; index--) {
                var value = world.map[index];

                var sourceX = (value % world.columns) * tileSheet.tileWidth;
                var sourceY = floor(value / tileSheet.columns) * tileSheet.tileHeight;

                var destinationX = (index % world.columns) * tileSheet.tileWidth;
                var destinationY = floor(index / world.columns) * tileSheet.tileHeight;

                let i = tileSheet.image.get(sourceX, sourceY, tileSheet.tileWidth, tileSheet.tileHeight);
                image(i, destinationX, destinationY);

                
            }
        }
  
    </script>
</body>
</html>