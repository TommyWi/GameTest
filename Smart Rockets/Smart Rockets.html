<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/addons/p5.dom.js"></script>
    <script src="dna.js"></script>
    <script src="rocket.js"></script>
    <script src="population.js"></script>
</head>
<body>
    <script>
        var population;
        var lifespan = 400;
        var lifeP;
        var count = 0;
        var target;
        var maxforce = 0.8;

        var rx = 300;
        var ry = 350;
        var rw = 200;
        var rh = 10;

        function setup() {
            createCanvas(800, 600);
            population = new Population();
            lifeP = createP();
            target = createVector(width / 2, 50);
        }

        function draw() {
            background(0);
            population.run();
            lifeP.html(count);
            count++;
            if (count === lifespan) {
                population.evaluate(); 
                population.selection();
                
                count = 0;
            }
            fill(255);
            rect(rx, ry, rw, rh);
            ellipse(target.x, target.y, 16, 16);
            
        }

        

        



        




    </script>

</body>
</html>